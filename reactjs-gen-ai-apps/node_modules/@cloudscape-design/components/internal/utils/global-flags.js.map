{"version":3,"file":"global-flags.js","sourceRoot":"lib/default/","sources":["internal/utils/global-flags.ts"],"names":[],"mappings":"AAAA,qEAAqE;AACrE,sCAAsC;AACtC,MAAM,CAAC,MAAM,sBAAsB,GAAG,MAAM,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;AAWvE,MAAM,CAAC,MAAM,YAAY,GAAG,GAA+B,EAAE;IAC3D,OAAO,MAAM,CAAC,GAAqB,CAAC;AACtC,CAAC,CAAC;AAEF,SAAS,QAAQ,CAAC,MAAkC,EAAE,QAA2B;IAC/E,IAAI,OAAO,MAAM,KAAK,WAAW,IAAI,CAAC,MAAM,CAAC,sBAAsB,CAAC,EAAE;QACpE,OAAO,SAAS,CAAC;KAClB;IACD,OAAO,MAAM,CAAC,sBAAsB,CAAC,CAAC,QAAQ,CAAC,CAAC;AAClD,CAAC;AAED,MAAM,CAAC,MAAM,aAAa,GAAG,CAAC,QAA2B,EAA8C,EAAE;IACvG,IAAI;QACF,MAAM,OAAO,GAAG,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;QAC3C,IAAI,OAAO,KAAK,SAAS,EAAE;YACzB,OAAO,OAAO,CAAC;SAChB;QACD,OAAO,QAAQ,CAAC,YAAY,EAAE,EAAE,QAAQ,CAAC,CAAC;KAC3C;IAAC,OAAO,CAAC,EAAE;QACV,OAAO,SAAS,CAAC;KAClB;AACH,CAAC,CAAC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const awsuiGlobalFlagsSymbol = Symbol.for('awsui-global-flags');\n\ninterface GlobalFlags {\n  removeHighContrastHeader?: boolean;\n}\n\ninterface ExtendedWindow extends Window {\n  [awsuiGlobalFlagsSymbol]?: GlobalFlags;\n}\ndeclare const window: ExtendedWindow;\n\nexport const getTopWindow = (): ExtendedWindow | undefined => {\n  return window.top as ExtendedWindow;\n};\n\nfunction readFlag(window: ExtendedWindow | undefined, flagName: keyof GlobalFlags) {\n  if (typeof window === 'undefined' || !window[awsuiGlobalFlagsSymbol]) {\n    return undefined;\n  }\n  return window[awsuiGlobalFlagsSymbol][flagName];\n}\n\nexport const getGlobalFlag = (flagName: keyof GlobalFlags): GlobalFlags[keyof GlobalFlags] | undefined => {\n  try {\n    const ownFlag = readFlag(window, flagName);\n    if (ownFlag !== undefined) {\n      return ownFlag;\n    }\n    return readFlag(getTopWindow(), flagName);\n  } catch (e) {\n    return undefined;\n  }\n};\n"]}